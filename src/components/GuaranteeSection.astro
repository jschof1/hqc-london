---
export interface Guarantee {
  icon: string;
  title: string;
  description: string;
}

export interface Props {
  title?: string;
  subtitle?: string;
  guarantees?: Guarantee[];
  ctaText?: string;
  ctaLink?: string;
  backgroundImage?: string;
  backgroundImageAlt?: string;
  className?: string;
}

const {
  title = "Our Assurances",
  subtitle = "Your peace of mind is nonâ€‘negotiable. We stand behind every visit.",
  guarantees = [
    {
      icon: "fas fa-check-circle",
      title: "Satisfaction Promise",
      description: "Complimentary remedy within 48h"
    },
    {
      icon: "fas fa-shield-alt",
      title: "Insured & Vetted",
      description: "Comprehensive cover & screening"
    },
    {
      icon: "fas fa-spray-can-sparkles",
      title: "Surface-Safe",
      description: "Finish-appropriate products only"
    }
  ],
  ctaText = "Request a Personalised Quote",
  ctaLink = "#quote",
  backgroundImage = "https://placehold.co/100x100/",
  backgroundImageAlt = "Subtle linen texture",
  className = ""
} = Astro.props;
---

<section class={`relative py-20 sm:py-24 ${className}`}>
  <div class="absolute inset-0 opacity-5" aria-hidden="true">
    <img
      src={backgroundImage}
      alt={backgroundImageAlt}
      class="w-full h-full object-cover"
    />
  </div>
  <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div
      class="mx-auto max-w-3xl rounded-2xl bg-white/90 backdrop-blur border border-gold shadow-soft p-8 text-center"
    >
      <h2 class="font-serif text-2xl md:text-3xl text-navy">
        {title}
      </h2>
      <p class="mt-4 text-sm md:text-base text-ink/70">
        {subtitle}
      </p>

      <div
        class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-6 text-sm text-ink/80"
      >
        {guarantees.map((guarantee) => (
          <div
            class="rounded-md p-6 border border-gold grid place-items-center"
          >
            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-navy/5 border-2 border-gold">
              <i class={`${guarantee.icon} text-gold text-4xl`} aria-hidden="true"></i>
            </div>
            <div class="mt-3 font-medium text-navy">
              {guarantee.title}
            </div>
            <div class="text-ink/60">{guarantee.description}</div>
          </div>
        ))}
      </div>

      {ctaText && ctaLink && (
        <div class="mt-6">
          <a
            href={ctaLink}
            class="inline-flex items-center rounded-md bg-gold text-navy px-5 py-3 text-sm border border-gold"
          >
            {ctaText}
          </a>
        </div>
      )}
    </div>
  </div>
</section>
